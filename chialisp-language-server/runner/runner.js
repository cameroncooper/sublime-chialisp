(()=>{var e,n,t,r,_={661:(e,n,t)=>{"use strict";t.a(e,(async(e,r)=>{try{t.r(n),t.d(n,{__wbg_BigInt_e301db81b60d26d6:()=>_.BT,__wbg_apply_5db7f1649d649fe3:()=>_.Is,__wbg_call_9855a4612eb496cb:()=>_.TR,__wbg_done_2a1e30464aae6a4d:()=>_.nf,__wbg_entries_b24687f151d83be3:()=>_.gH,__wbg_fromEntries_06150f1d39e0a856:()=>_.Od,__wbg_from_7ff9036e9b5c3ccb:()=>_.u5,__wbg_getOwnPropertyDescriptor_22de707a0d7abb03:()=>_.WV,__wbg_get_f0f4f1608ebf633e:()=>_.iW,__wbg_isArray_628aca8c24017cde:()=>_.qm,__wbg_keys_78a25f59acd6256b:()=>_.Cp,__wbg_length_93debb0e2e184ab6:()=>_.VE,__wbg_new_2ab697f1555e0dbc:()=>_.Y3,__wbg_next_9ef803116340cdc1:()=>_.bN,__wbg_set_c1d04f8b45a036e7:()=>_.Pm,__wbg_stringify_cf20dc96bee34a66:()=>_.m5,__wbg_toString_1e058ba6a7e8e16c:()=>_.rV,__wbg_toString_72c0850ce31ae960:()=>_.sz,__wbg_value_a495c29471c31da6:()=>_.Ro,__wbg_values_644ed6c9e45c1e38:()=>_.I8,__wbindgen_bigint_new:()=>_.q9,__wbindgen_debug_string:()=>_.fY,__wbindgen_is_bigint:()=>_.fW,__wbindgen_is_function:()=>_.o$,__wbindgen_is_object:()=>_.Wl,__wbindgen_jsval_loose_eq:()=>_.Qr,__wbindgen_number_get:()=>_.M1,__wbindgen_number_new:()=>_.pT,__wbindgen_object_clone_ref:()=>_.m_,__wbindgen_object_drop_ref:()=>_.ug,__wbindgen_string_get:()=>_.qt,__wbindgen_string_new:()=>_.h4,__wbindgen_throw:()=>_.Or,compile:()=>_.MY,compose_run_function:()=>_.rl,create_clvm_runner:()=>_.Et,create_lsp_service:()=>_.uL,create_repl:()=>_.ZZ,destroy_lsp_service:()=>_.e9,destroy_repl:()=>_.Du,final_value:()=>_.KJ,lsp_service_handle_msg:()=>_.YF,remove_clvm_runner:()=>_.W,repl_run_string:()=>_.DE,run_step:()=>_.aI,sexp_to_string:()=>_.oA});var _=t(378),o=e([_]);_=(o.then?(await o)():o)[0],r()}catch(e){r(e)}}))},378:(e,n,t)=>{"use strict";t.a(e,(async(r,_)=>{try{t.d(n,{BT:()=>de,Cp:()=>ve,DE:()=>V,Du:()=>$,Et:()=>I,I8:()=>be,Is:()=>we,KJ:()=>T,M1:()=>ee,MY:()=>D,Od:()=>pe,Or:()=>Se,Pm:()=>ae,Qr:()=>Q,Ro:()=>ue,TR:()=>me,VE:()=>re,W:()=>W,WV:()=>he,Wl:()=>oe,Y3:()=>_e,YF:()=>J,ZZ:()=>Y,aI:()=>k,bN:()=>ie,e9:()=>N,fW:()=>ne,fY:()=>Oe,gH:()=>ye,h4:()=>Z,iW:()=>te,m5:()=>xe,m_:()=>H,nf:()=>ce,o$:()=>z,oA:()=>F,pT:()=>G,q9:()=>X,qm:()=>fe,qt:()=>K,rV:()=>ge,rl:()=>M,sz:()=>le,u5:()=>se,uL:()=>L,ug:()=>U});var o=t(322);e=t.hmd(e);var i=r([o]);o=(i.then?(await i)():i)[0];const c=new Array(32).fill(void 0);function u(e){return c[e]}c.push(void 0,null,!0,!1);let a=c.length;function s(e){e<36||(c[e]=a,a=e)}function f(e){const n=u(e);return s(e),n}let l,b=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function d(){return 0===l.byteLength&&(l=new Uint8Array(o.memory.buffer)),l}function g(e,n){return b.decode(d().subarray(e,e+n))}function w(e){a===c.length&&c.push(c.length+1);const n=a;return a=c[n],c[n]=e,n}b.decode();let m=0,y=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const p="function"==typeof y.encodeInto?function(e,n){return y.encodeInto(e,n)}:function(e,n){const t=y.encode(e);return n.set(t),{read:e.length,written:t.length}};function h(e,n,t){if(void 0===t){const t=y.encode(e),r=n(t.length);return d().subarray(r,r+t.length).set(t),m=t.length,r}let r=e.length,_=n(r);const o=d();let i=0;for(;i<r;i++){const n=e.charCodeAt(i);if(n>127)break;o[_+i]=n}if(i!==r){0!==i&&(e=e.slice(i)),_=t(_,r,r=i+3*e.length);const n=d().subarray(_+i,_+r);i+=p(e,n).written}return m=i,_}function v(e){return null==e}let x,O;function S(){return 0===x.byteLength&&(x=new Int32Array(o.memory.buffer)),x}function j(e){const n=typeof e;if("number"==n||"boolean"==n||null==e)return`${e}`;if("string"==n)return`"${e}"`;if("symbol"==n){const n=e.description;return null==n?"Symbol":`Symbol(${n})`}if("function"==n){const n=e.name;return"string"==typeof n&&n.length>0?`Function(${n})`:"Function"}if(Array.isArray(e)){const n=e.length;let t="[";n>0&&(t+=j(e[0]));for(let r=1;r<n;r++)t+=", "+j(e[r]);return t+="]",t}const t=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(t.length>1))return toString.call(e);if(r=t[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}let E,A=32;function q(e){if(1==A)throw new Error("out of js stack");return c[--A]=e,A}function I(e,n,t,r){try{const _=h(e,o.__wbindgen_malloc,o.__wbindgen_realloc),i=m;return f(o.create_clvm_runner(_,i,w(n),q(t),q(r)))}finally{c[A++]=void 0,c[A++]=void 0}}function T(e){return f(o.final_value(e))}function W(e){o.remove_clvm_runner(e)}function k(e){return f(o.run_step(e))}function P(){return 0===E.byteLength&&(E=new Uint32Array(o.memory.buffer)),E}function B(e,n){const t=n(4*e.length),r=P();for(let n=0;n<e.length;n++)r[t/4+n]=w(e[n]);return m=e.length,t}function D(e,n,t){const r=B(t,o.__wbindgen_malloc),_=m;return f(o.compile(w(e),w(n),r,_))}function M(e,n,t){try{const r=h(e,o.__wbindgen_malloc,o.__wbindgen_realloc),_=m,i=h(t,o.__wbindgen_malloc,o.__wbindgen_realloc),u=m;return f(o.compose_run_function(r,_,q(n),i,u))}finally{c[A++]=void 0}}function Y(){return o.create_repl()}function $(e){o.destroy_repl(e)}function V(e,n){const t=h(n,o.__wbindgen_malloc,o.__wbindgen_realloc),r=m;return f(o.repl_run_string(e,t,r))}function F(e){try{return f(o.sexp_to_string(q(e)))}finally{c[A++]=void 0}}function L(e,n){try{return o.create_lsp_service(q(e),q(n))}finally{c[A++]=void 0,c[A++]=void 0}}function N(e){o.destroy_lsp_service(e)}function C(e,n){const t=P().subarray(e/4,e/4+n),r=[];for(let e=0;e<t.length;e++)r.push(f(t[e]));return r}function J(e,n){try{const i=o.__wbindgen_add_to_stack_pointer(-16),c=h(n,o.__wbindgen_malloc,o.__wbindgen_realloc),u=m;o.lsp_service_handle_msg(i,e,c,u);var t=S()[i/4+0],r=S()[i/4+1],_=C(t,r).slice();return o.__wbindgen_free(t,4*r),_}finally{o.__wbindgen_add_to_stack_pointer(16)}}function R(e,n){try{return e.apply(this,n)}catch(e){o.__wbindgen_exn_store(w(e))}}function U(e){f(e)}function Z(e,n){return w(g(e,n))}function z(e){return"function"==typeof u(e)}function H(e){return w(u(e))}function Q(e,n){return u(e)==u(n)}function K(e,n){const t=u(n),r="string"==typeof t?t:void 0;var _=v(r)?0:h(r,o.__wbindgen_malloc,o.__wbindgen_realloc),i=m;S()[e/4+1]=i,S()[e/4+0]=_}function G(e){return w(e)}function X(e,n){return w(BigInt(g(e,n)))}function ee(e,n){const t=u(n),r="number"==typeof t?t:void 0;(0===O.byteLength&&(O=new Float64Array(o.memory.buffer)),O)[e/8+1]=v(r)?0:r,S()[e/4+0]=!v(r)}function ne(e){return"bigint"==typeof u(e)}function te(e,n){return w(u(e)[n>>>0])}function re(e){return u(e).length}function _e(){return w(new Array)}function oe(e){const n=u(e);return"object"==typeof n&&null!==n}function ie(){return R((function(e){return w(u(e).next())}),arguments)}function ce(e){return u(e).done}function ue(e){return w(u(e).value)}function ae(e,n,t){u(e)[n>>>0]=f(t)}function se(e){return w(Array.from(u(e)))}function fe(e){return Array.isArray(u(e))}function le(e){return w(u(e).toString())}function be(e){return w(u(e).values())}function de(){return R((function(e){return w(BigInt(u(e)))}),arguments)}function ge(){return R((function(e,n){return w(u(e).toString(n))}),arguments)}function we(){return R((function(e,n,t){return w(u(e).apply(u(n),u(t)))}),arguments)}function me(){return R((function(e,n,t){return w(u(e).call(u(n),u(t)))}),arguments)}function ye(e){return w(Object.entries(u(e)))}function pe(){return R((function(e){return w(Object.fromEntries(u(e)))}),arguments)}function he(e,n){return w(Object.getOwnPropertyDescriptor(u(e),u(n)))}function ve(e){return w(Object.keys(u(e)))}function xe(){return R((function(e){return w(JSON.stringify(u(e)))}),arguments)}function Oe(e,n){const t=h(j(u(n)),o.__wbindgen_malloc,o.__wbindgen_realloc),r=m;S()[e/4+1]=r,S()[e/4+0]=t}function Se(e,n){throw new Error(g(e,n))}O=new Float64Array(o.memory.buffer),x=new Int32Array(o.memory.buffer),E=new Uint32Array(o.memory.buffer),l=new Uint8Array(o.memory.buffer),_()}catch(je){_(je)}}))},147:e=>{"use strict";e.exports=require("fs")},282:e=>{"use strict";e.exports=require("process")},322:(e,n,t)=>{"use strict";t.a(e,(async(r,_)=>{try{var o,i=r([o=t(378)]),[o]=i.then?(await i)():i;await t.v(n,e.id,"41e51f7f66f60966c859",{"./clvm_tools_rs_bg.js":{__wbindgen_object_drop_ref:o.ug,__wbindgen_string_new:o.h4,__wbindgen_is_function:o.o$,__wbindgen_object_clone_ref:o.m_,__wbindgen_jsval_loose_eq:o.Qr,__wbindgen_string_get:o.qt,__wbindgen_number_new:o.pT,__wbindgen_bigint_new:o.q9,__wbindgen_number_get:o.M1,__wbindgen_is_bigint:o.fW,__wbg_get_f0f4f1608ebf633e:o.iW,__wbg_length_93debb0e2e184ab6:o.VE,__wbg_new_2ab697f1555e0dbc:o.Y3,__wbindgen_is_object:o.Wl,__wbg_next_9ef803116340cdc1:o.bN,__wbg_done_2a1e30464aae6a4d:o.nf,__wbg_value_a495c29471c31da6:o.Ro,__wbg_set_c1d04f8b45a036e7:o.Pm,__wbg_from_7ff9036e9b5c3ccb:o.u5,__wbg_isArray_628aca8c24017cde:o.qm,__wbg_toString_72c0850ce31ae960:o.sz,__wbg_values_644ed6c9e45c1e38:o.I8,__wbg_BigInt_e301db81b60d26d6:o.BT,__wbg_toString_1e058ba6a7e8e16c:o.rV,__wbg_apply_5db7f1649d649fe3:o.Is,__wbg_call_9855a4612eb496cb:o.TR,__wbg_entries_b24687f151d83be3:o.gH,__wbg_fromEntries_06150f1d39e0a856:o.Od,__wbg_getOwnPropertyDescriptor_22de707a0d7abb03:o.WV,__wbg_keys_78a25f59acd6256b:o.Cp,__wbg_stringify_cf20dc96bee34a66:o.m5,__wbindgen_debug_string:o.fY,__wbindgen_throw:o.Or}}),_()}catch(e){_(e)}}),1)}},o={};function i(e){var n=o[e];if(void 0!==n)return n.exports;var t=o[e]={id:e,loaded:!1,exports:{}};return _[e](t,t.exports,i),t.loaded=!0,t.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},i.a=(_,o,i)=>{var c;i&&((c=[]).d=1);var u,a,s,f=new Set,l=_.exports,b=new Promise(((e,n)=>{s=n,a=e}));b[n]=l,b[e]=e=>(c&&e(c),f.forEach(e),b.catch((e=>{}))),_.exports=b,o((_=>{var o;u=(_=>_.map((_=>{if(null!==_&&"object"==typeof _){if(_[e])return _;if(_.then){var o=[];o.d=0,_.then((e=>{i[n]=e,r(o)}),(e=>{i[t]=e,r(o)}));var i={};return i[e]=e=>e(o),i}}var c={};return c[e]=e=>{},c[n]=_,c})))(_);var i=()=>u.map((e=>{if(e[t])throw e[t];return e[n]})),a=new Promise((n=>{(o=()=>n(i)).r=0;var t=e=>e!==c&&!f.has(e)&&(f.add(e),e&&!e.d&&(o.r++,e.push(o)));u.map((n=>n[e](t)))}));return o.r?a:i()}),(e=>(e?s(b[t]=e):a(l),r(c)))),c&&(c.d=0)},i.d=(e,n)=>{for(var t in n)i.o(n,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.v=(e,n,t,r)=>new Promise((function(e,n){try{var{readFile:r}=require("fs"),{join:_}=require("path");r(_(__dirname,t+".module.wasm"),(function(t,r){if(t)return n(t);e({arrayBuffer:()=>r})}))}catch(e){n(e)}})).then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,r))).then((n=>Object.assign(e,n.instance.exports))),i.p="",(()=>{let e=i(661),n=i(282),t=i(147);n.stdin.setEncoding("binary"),e.then((e=>{let r=e.create_lsp_service((function(e){try{return t.readFileSync(e,"utf8")}catch(e){return n.stderr.write("read file failed: "+e+"\n"),null}}),(function(e){n.stderr.write("stderr> "+e+"\n")})),_={mode:0,message_header:"",message_payload:"",remaining_bytes:0,deliver_msg:function(t){let _=[];try{_=e.lsp_service_handle_msg(r,t)}catch(e){n.stderr.write("exn: "+e+"\n")}for(var o=0;o<_.length;o++){let e=JSON.parse(_[o]);for(var i=0;i<e.length;i++){let t=JSON.stringify(e[i]);n.stdout.write("Content-Length: "+t.length+"\r\n\r\n"),n.stdout.write(t)}}}};n.stdin.on("data",(function(e){for(var t=0;t<e.length;){let r=e[t],o=1;if(0==_.mode)if("\r"==r||"\n"==r){let e=_.message_header.split(":");_.message_header="",e[0].match(/[Cc]ontent-[Ll]ength/)&&e.length>1&&(_.remaining_bytes=parseInt(e[1].trim())),_.mode="\r"==r?1:2}else _.message_header+=r;else if(1==_.mode)"\n"==r&&(_.mode=2);else if(2==_.mode)"\r"==r?_.mode=3:"\n"==r?_.mode=4:(_.mode=0,_.message_header+=r);else if(3==_.mode)"\n"==r&&(_.mode=4);else if(o=0,e.length>=_.remaining_bytes){let r=e.substr(t,_.remaining_bytes);t+=_.remaining_bytes,_.remaining_bytes=0,_.mode=0;try{_.deliver_msg&&_.deliver_msg(r)}catch(e){n.stderr.write("exception "+e+"\n")}}else{_.message_payload+=e.substr(t);let n=e.length-t;_.remaining_bytes-=n,t+=n}t+=o}})),n.stdin.on("end",(function(){e.destroy_lsp_service(r),n.stdout.write("",(()=>{n.exit(0)}))}))}))})()})();
//# sourceMappingURL=runner.js.map